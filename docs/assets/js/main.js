!function(n){function e(e){for(var o,i,s=e[0],l=e[1],c=e[2],p=0,d=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(n[o]=l[o]);for(u&&u(e);d.length;)d.shift()();return r.push.apply(r,c||[]),t()}function t(){for(var n,e=0;e<r.length;e++){for(var t=r[e],o=!0,s=1;s<t.length;s++){var l=t[s];0!==a[l]&&(o=!1)}o&&(r.splice(e--,1),n=i(i.s=t[0]))}return n}var o={},a={1:0},r=[];function i(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=n,i.c=o,i.d=function(n,e,t){i.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},i.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,e){if(1&e&&(n=i(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)i.d(t,o,function(e){return n[e]}.bind(null,o));return t},i.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(e,"a",e),e},i.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;r.push([373,0]),t()}({2:function(n,e,t){"use strict";var o=t(1),a="//".concat("gmwu.hopto.org");e.a={apiUrl:a,pg_urlParaObj:function(){location;var n=location.search,e={};""!==n&&n.split("?")[1].split("&").forEach((function(n){e[n.split("=")[0]]=n.split("=")[1]}));return e},noTokenKickPatch:"index.html",getCookieToken:function(){this.cookieToken=document.cookie.replace(/(?:(?:^|.*;\s*)token\s*\=\s*([^;]*).*$)|^.*$/,"$1")},checkLogIn:function(){var n=this.cookieToken,e=location.pathname.split("/"),t=e[e.length-1]=="".concat("index.html"),a="index.html"==e[e.length-1],r="register.html"==e[e.length-1];t||a||r||""==n&&(o.Notify.warning("Token 過期或登出，五秒後導回登入頁，請重新登入！"),setTimeout((function(){document.location.href="index.html"}),5e3))},signout:function(){document.cookie="token=; expires=; path=/",this.cookieToken="",o.Notify.success("完成登出"),this.checkLogIn()},getProfile:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="".concat(this.apiUrl,"/user/profile?queryUser=").concat(e);return new Promise((function(e,a){axios.defaults.headers.common.Authorization="Bearer ".concat(n.cookieToken),axios.get(t).then((function(n){e(n.data)})).catch((function(n){a(n),console.log("err.request",n.request);var e=JSON.parse(n.request.response);console.log("profileApi err.request.response",e),o.Notify.failure("讀取個人資料發生錯誤，".concat(n.response.data.message,"，將在五秒後導向登入頁面！")),setTimeout((function(){document.location.href="index.html"}),5e3)}))}))}}},33:function(n,e,t){"use strict";function o(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,e){if(!n)return;if("string"==typeof n)return a(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(n,e)}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var o=0,r=function(){};return{s:r,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return s=n.done,n},e:function(n){l=!0,i=n},f:function(){try{s||null==t.return||t.return()}finally{if(l)throw i}}}}function a(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=n[t];return o}function r(n,e,t,o,a,r,i){try{var s=n[r](i),l=s.value}catch(n){return void t(n)}s.done?e(l):Promise.resolve(l).then(o,a)}var i=function(){var n,e=(n=regeneratorRuntime.mark((function n(e){var t,a,r,i,s,l,c,u,p,d=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.file,a=e.imageType,r=void 0===a?"":a,i=e.formData,s=void 0===i?new FormData:i,l="".concat(this.apiUrl,"/upload/image"),t){s.append("image",t,t.name),c=o(s.values());try{for(c.s();!(u=c.n()).done;)p=u.value,console.log("formData value -> ",p)}catch(n){c.e(n)}finally{c.f()}}else console.log("file",t);return n.abrupt("return",new Promise((function(n,e){axios({method:"post",url:l+"?type=".concat(r),headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(d.cookieToken)},data:s}).then((function(e){return n(e.data)})).catch((function(n){return e(n)}))})));case 5:case"end":return n.stop()}}),n,this)})),function(){var e=this,t=arguments;return new Promise((function(o,a){var i=n.apply(e,t);function s(n){r(i,o,a,s,l,"next",n)}function l(n){r(i,o,a,s,l,"throw",n)}s(void 0)}))});return function(n){return e.apply(this,arguments)}}();e.a={upload_img:i,fileThrowError:function(n){var e=n.msgStr,t=void 0===e?"":e,o=n.isThrow,a=void 0===o||o,r=new Error("發生錯誤：");if(r.message+="".concat(t," / fileName: ").concat(r.fileName),a)throw r}}},360:function(n,e){n.exports=function(n){"use strict";var e=function(n,e){var t=n.locale||"en-US";this.parse=function(n){var e=new Intl.NumberFormat(t),o=e.format(11111).replace(/1/g,"")||".",a=e.format(1.1).replace(/1/g,"");return parseFloat(n.replace(new RegExp(" ","g"),"").replace(new RegExp("\\"+o,"g"),"").replace(new RegExp("\\"+a),"."))},this.render=function(n){var o=parseInt(e.getAttribute("data-decimals"))||0,a=!("false"===e.getAttribute("data-digit-grouping"));return new Intl.NumberFormat(t,{minimumFractionDigits:o,maximumFractionDigits:o,useGrouping:a}).format(n)}},t=!1,o=n.fn.val;function a(n,e){n.addEventListener("mousedown",(function(n){0===n.button&&(n.preventDefault(),e(n))})),n.addEventListener("touchstart",(function(n){n.cancelable&&n.preventDefault(),e(n)})),n.addEventListener("keydown",(function(n){32!==n.keyCode&&13!==n.keyCode||t||(t=!0,e(n))}))}n.fn.val=function(n){if(arguments.length>=1)for(var e=0;e<this.length;e++)this[e]["bootstrap-input-spinner"]&&this[e].setValue&&this[e].setValue(n);return o.apply(this,arguments)},n.fn.inputSpinner=function(o){if("destroy"===o)return this.each((function(){this["bootstrap-input-spinner"]?this.destroyInputSpinner():console.warn("element",this,"is no bootstrap-input-spinner")})),this;var r={decrementButton:"<strong>&minus;</strong>",incrementButton:"<strong>&plus;</strong>",groupClass:"",buttonsClass:"btn-outline-secondary",buttonsWidth:"2.5rem",textAlign:"center",autoDelay:500,autoInterval:50,buttonsOnly:!1,keyboardStepping:!0,locale:navigator.language,editor:e,template:'<div class="input-group ${groupClass}"><button style="min-width: ${buttonsWidth}" class="btn btn-decrement ${buttonsClass} btn-minus" type="button">${decrementButton}</button><input type="text" inputmode="decimal" style="text-align: ${textAlign}" class="form-control form-control-text-input"/><button style="min-width: ${buttonsWidth}" class="btn btn-increment ${buttonsClass} btn-plus" type="button">${incrementButton}</button></div>'};for(var i in o)r[i]=o[i];var s=r.template.replace(/\${groupClass}/g,r.groupClass).replace(/\${buttonsWidth}/g,r.buttonsWidth).replace(/\${buttonsClass}/g,r.buttonsClass).replace(/\${decrementButton}/g,r.decrementButton).replace(/\${incrementButton}/g,r.incrementButton).replace(/\${textAlign}/g,r.textAlign);return this.each((function(){if(this["bootstrap-input-spinner"])console.warn("element",this,"is already a bootstrap-input-spinner");else{var e=n(this);e[0]["bootstrap-input-spinner"]=!0,e.hide(),e[0].inputSpinnerEditor=new r.editor(r,this);var o=null,i=null,l=n(s),c=l.find(".btn-decrement"),u=l.find(".btn-increment"),p=l.find("input"),d=n("label[for='"+e.attr("id")+"']");d[0]||(d=e.closest("label"));var m=null,f=null,b=null;N();var h=parseFloat(e[0].value),v=!1,g=e.attr("data-prefix")||"",y=e.attr("data-suffix")||"";if(g){var k=n('<span class="input-group-text">'+g+"</span>");l.find("input").before(k)}if(y){var w=n('<span class="input-group-text">'+y+"</span>");l.find("input").after(w)}e[0].setValue=function(n){O(n)},e[0].destroyInputSpinner=function(){e.prop("required",p.prop("required")),x.disconnect(),L(),p.off("paste input change focusout"),l.remove(),e.show(),e[0]["bootstrap-input-spinner"]=void 0,d[0]&&d.attr("for",e.attr("id"))};var x=new MutationObserver((function(){N(),O(h,!0)}));x.observe(e[0],{attributes:!0}),e.after(l),O(h),p.on("paste input change focusout",(function(n){var t=p[0].value,o="focusout"===n.type;O(t=e[0].inputSpinnerEditor.parse(t),o),T(e,n.type),r.keyboardStepping&&o&&L()})).on("keydown",(function(n){r.keyboardStepping&&(38===n.which?(n.preventDefault(),c.prop("disabled")||C(b)):40===n.which&&(n.preventDefault(),u.prop("disabled")||C(-b)))})).on("keyup",(function(n){!r.keyboardStepping||38!==n.which&&40!==n.which||(n.preventDefault(),L())})),a(c[0],(function(){c.prop("disabled")||(v=!0,C(-b))})),a(u[0],(function(){u.prop("disabled")||(v=!0,C(b))})),S=document.body,_=function(){!0===v&&(L(),T(e,"change"),v=!1)},S.addEventListener("mouseup",(function(n){_(n)})),S.addEventListener("touchend",(function(n){_(n)})),S.addEventListener("keyup",(function(n){32!==n.keyCode&&13!==n.keyCode||(t=!1,_(n))}))}var S,_;function O(n,t){void 0===t&&(t=!0),isNaN(n)||""===n?(e[0].value="",t&&(p[0].value=""),h=NaN):(n=parseFloat(n),n=Math.min(Math.max(n,m),f),e[0].value=n,t&&(p[0].value=e[0].inputSpinnerEditor.render(n)),h=n)}function T(n,e){e&&setTimeout((function(){var t;"function"==typeof Event?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!0),n[0].dispatchEvent(t)}))}function C(n){D(n),L(),void 0!==r.autoInterval&&(o=setTimeout((function(){i=setInterval((function(){D(n)}),r.autoInterval)}),r.autoDelay))}function D(n){isNaN(h)&&(h=0),O(Math.round(h/n)*n+n),T(e,"input")}function L(){clearTimeout(o),clearTimeout(i)}function N(){e.prop("required")&&(p.prop("required",e.prop("required")),e.removeAttr("required")),p.prop("placeholder",e.prop("placeholder")),p.attr("inputmode",e.attr("inputmode")||"decimal");var n=e.prop("disabled"),t=e.prop("readonly");p.prop("disabled",n),p.prop("readonly",t||r.buttonsOnly),u.prop("disabled",n||t),c.prop("disabled",n||t),(n||t)&&L();var o=e.prop("class"),a="";/form-control-sm/g.test(o)?a="input-group-sm":/form-control-lg/g.test(o)&&(a="input-group-lg");var i=o.replace(/form-control(-(sm|lg))?/g,"");l.prop("class","input-group "+a+" "+r.groupClass),p.prop("class","form-control "+i),m=isNaN(e.prop("min"))||""===e.prop("min")?-1/0:parseFloat(e.prop("min")),f=isNaN(e.prop("max"))||""===e.prop("max")?1/0:parseFloat(e.prop("max")),b=parseFloat(e.prop("step"))||1,e.attr("hidden")?l.attr("hidden",e.attr("hidden")):l.removeAttr("hidden"),e.attr("id")&&(p.attr("id",e.attr("id")+"_MP_cBdLN29i2"),d[0]&&d.attr("for",p.attr("id")))}})),this}}(jQuery)},373:function(n,e,t){"use strict";t.r(e);t(152);var o=t(73),a=t.n(o),r=t(104),i=t.n(r),s=t(74),l=t.n(s),c=t(6),u=t(150),p=t.n(u),d=t(54),m=t(105),f=t(151),b=(c.a.component("user-avatar",{props:{imgUrl:{type:String},incomClass:Array},template:'\n    <div\n      class="c-pseudoOneToOne c-pseudoOneToOne--round c-pseudoOneToOne--user"\n      :class=\'incomClass\'\n      :style=\'{ backgroundImage: (this.imgUrl) ? ("url(" + this.imgUrl + ")") : "" }\'\n    ></div>\n  '}),t(3)),h=t(106),v=t(4),g=t(2);Object(v.b)(b.Loading),Object(v.a)(h.Confirm);c.a.component("nav-main",{methods:{componentSignout:function(){var n=this;h.Confirm.show("登出確認","請確任是否登出","是的","取消",(function(){n.$emit("push-signout"),b.Loading.custom("讀取中 ...")}),(function(){}))},memberPay:function(){var n="".concat(g.a.apiUrl,"/pay/ecpay");JSON.parse(localStorage.getItem("token"));axios.get(n).then((function(n){if(200===n.status){var e=document.querySelector("body"),t=document.createElement("DIV");t.id="_form_aio_checkout_outSide",t.style.display="none",e.appendChild(t),t.innerHTML=n.data.resHTML;var o=Array.from(document.querySelectorAll("#_form_aio_checkout"));console.log("elements",o);var a=o.find((function(n){return n.id.includes("_form_aio_checkout")}));a.setAttribute("target","_self"),a.submit()}})).catch((function(n){return console.log(n)}))}},props:["userData"],template:'\n    <nav\n      class="p-stickyNavMain border border-3 border-top-0 border-start-0 border-end-0 border-dark bg-white"\n    >\n      <div class="container">\n        <div class="row">\n          <div\n            class="navbar navbar-expand-lg navbar-light justify-content-between py-3"\n          >\n            <a class="c-logo" href="allDynamicWall.html" title="MetaWall logo">\n              MetaWall\n            </a>\n            <div class="btn-group">\n              <a\n                class="text-decoration-none d-flex align-items-center"\n                href="#"\n                data-bs-toggle="dropdown"\n                data-bs-display="static"\n                aria-expanded="false"\n              >\n                <user-avatar\n                  class="mx-auto me-2"\n                  :img-url="userData.avatarUrl"\n                  :incom-class="[\'c-pseudoOneToOne--xs\']"\n                ></user-avatar>\n                <span\n                  class="u-fontFamily--AzeretMono fw-bold text-dark lh-19 px-1 pb-1 border-dark border-bottom"\n                >\n                  {{ userData.userName }}\n                </span>\n\n              </a>\n              <ul\n                class="dropdown-menu dropdown-menu-end dropdown-menu-lg-start text-center u-solidDoubShadow-rb"\n              >\n                <li\n                  class="border border-dark border-2 border-top-0 border-start-0 border-end-0"\n                >\n                  <button\n                    class="dropdown-item py-2"\n                    type="button"\n                    @click=\'memberPay\'\n                  >\n                    會員儲值\n                  </button>\n                </li>\n                <li\n                  class="border border-dark border-2 border-top-0 border-start-0 border-end-0"\n                >\n                  <button\n                    class="dropdown-item py-2"\n                    type="button"\n                    @click=\'this.location = "personalPosts.html?user_id=" + userData["_id"]\'\n                  >\n                    我的貼文牆\n                  </button>\n                </li>\n                <li\n                  class="border border-dark border-2 border-top-0 border-start-0 border-end-0"\n                >\n                  <button\n                    class="dropdown-item py-2"\n                    type="button"\n                    @click=\'this.location.href = "editProfile.html"\'\n                  >\n                    修改個人資料\n                  </button>\n                </li>\n                <li class="border border-dark border-0">\n                  <button\n                    class="dropdown-item py-2"\n                    type="button"\n                    @click="componentSignout"\n                  >\n                    登出\n                  </button>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    </nav>\n  '}),c.a.component("nav-sub",{props:["userData"],template:'\n  <aside class="col-lg-auto w-lg-35 ms-lg-7 p-stickyNavSub">\n    <nav class="card p-stickyNavSub__inner">\n      <div class="card-body py-2 py-lg-8">\n        <button\n          class="w-100 btn btn-primary btn-lg d-none d-lg-block mb-6"\n          type="button"\n          onclick=\'document.location.href = "postNews.html"\'\n        >\n          張貼動態\n        </button>\n        <ul class="p-stickyNavSubMenu list-unstyled ps-lg-2 mb-0">\n          <li class="p-stickyNavSubMenu__item d-lg-none order-1">\n            <a class="w-100 p-stickyNavSubBtns" href="postNews.html">\n              <div\n                class="c-pseudoOneToOne c-pseudoOneToOne--round c-pseudoOneToOne--m p-stickyNavSubBtns__icon p-stickyNavSubBtns__icon--primary me-lg-4"\n              >\n                <i class="fas fa-plus"></i>\n              </div>\n              <p class="fw-bold p-stickyNavSubBtns__title mb-0">張貼動態</p>\n            </a>\n          </li>\n          <li class="p-stickyNavSubMenu__item d-none d-lg-block">\n            <a class="w-100 p-stickyNavSubBtns"\n            :href="(\'personalPosts.html?user_id=\' + userData[\'_id\'])"\n            >\n              <user-avatar class="me-lg-4"\n                :incom-class="[\'c-pseudoOneToOne--m\']"\n                :img-url=\'userData.avatarUrl\'\n              ></user-avatar>\n              <p class="fw-bold p-stickyNavSubBtns__title mb-0">\n                {{ userData.userName }}\n              </p>\n            </a>\n          </li>\n          <li class="p-stickyNavSubMenu__item d-block d-lg-none">\n            <a class="w-100 p-stickyNavSubBtns" href="allDynamicWall.html">\n              <div\n                class="c-pseudoOneToOne c-pseudoOneToOne--round c-pseudoOneToOne--m c-pseudoOneToOne--user p-stickyNavSubBtns__icon p-stickyNavSubBtns__icon--home fas me-lg-4"\n              >\n                <i class="fas fa-home"></i>\n              </div>\n              <p class="fw-bold p-stickyNavSubBtns__title mb-0">回首頁</p>\n            </a>\n          </li>\n          <li class="p-stickyNavSubMenu__item">\n            <a class="w-100 p-stickyNavSubBtns" href="followList.html">\n              <div\n                class="c-pseudoOneToOne c-pseudoOneToOne--round c-pseudoOneToOne--m p-stickyNavSubBtns__icon me-lg-4"\n              >\n                <i class="far fa-bell"></i>\n              </div>\n              <p class="fw-bold p-stickyNavSubBtns__title mb-0">追蹤名單</p>\n            </a>\n          </li>\n          <li class="p-stickyNavSubMenu__item">\n            <a class="w-100 p-stickyNavSubBtns" href="myLike.html">\n              <div\n                class="c-pseudoOneToOne c-pseudoOneToOne--round c-pseudoOneToOne--m p-stickyNavSubBtns__icon me-lg-4"\n              >\n                <i class="far fa-thumbs-up"></i>\n              </div>\n              <p class="fw-bold p-stickyNavSubBtns__title mb-0">我按讚的文章</p>\n            </a>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  </aside>  \n  '});var y=t(5),k=t(1),w=t(33);function x(n,e,t,o,a,r,i){try{var s=n[r](i),l=s.value}catch(n){return void t(n)}s.done?e(l):Promise.resolve(l).then(o,a)}Object(v.d)(y.Report),Object(v.c)(k.Notify);c.a.component("btn-file-preview-img",{methods:{isValid_img_type:function(n){return["image/jpeg","image/png"].includes(n)},readFile:function(n){return new Promise((function(e,t){var o=new FileReader;o.readAsDataURL(n),o.onload=function(n){return e(o)},o.onerror=t}))},fileThrowError:w.a.fileThrowError,createImg:function(n){return new Promise((function(e,t){var o=new Image;o.addEventListener("load",(function(){return e(o)})),o.addEventListener("error",(function(n){return t(n)})),o.src=n}))},returnFileSize:function(n){return Number((n/1048576).toFixed(2))},previewFile:(S=regeneratorRuntime.mark((function n(e){var t,o,a,r,i,s,l,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.target,o=t.files[0],this.isValid_img_type(o.type)||(a=o.type.split("/").pop(),r="".concat(a," 格式檔，圖片格式錯誤，僅限 JPG、PNG 圖片"),y.Report.failure("發生錯誤",'<p class="mb-0 text-center">'.concat(r,"，中斷操作請重新選擇圖檔。</p>"),"確定"),this.fileThrowError({msgStr:r})),this.returnFileSize(o.size)>1&&(y.Report.failure("發生錯誤",'<p class="mb-0 text-center">'.concat("圖片檔案過大，僅限 1 mb 以下檔案","，中斷操作請重新選擇圖檔。</p>"),"確定"),this.fileThrowError({msgStr:"圖片檔案過大，僅限 1 mb 以下檔案"})),n.next=7,this.readFile(o);case 7:return i=n.sent,s=i.result,n.next=11,this.createImg(s);case 11:l=n.sent,c="",l.width>1024&&(c="圖片寬度 ".concat(l.width," px，超過 1024 px"),y.Report.failure("發生錯誤",'<p class="mb-0 text-center">'.concat(c,"，中斷操作請重新選擇圖檔。</p>"),"確定"),fileThrowError({msgStr:c})),l.height>1024&&(c="圖片高度 ".concat(l.width," px，超過 1024 px"),y.Report.failure("發生錯誤",'<p class="mb-0 text-center">'.concat(c,"，中斷操作請重新選擇圖檔。</p>"),"確定"),fileThrowError({msgStr:c})),"avatar"==this.imgType&&l.width!==l.height&&(c="圖片高度 ".concat(l.width," 寬度 ").concat(l.width,"，比例不是一比一"),y.Report.failure("發生錯誤",'<p class="mb-0 text-center">'.concat(c,"，中斷操作請重新選擇圖檔。</p>"),"確定"),fileThrowError({msgStr:c})),this.$emit("change-preview-emit",{imgUrl:l.src,imageType:this.imgType,file:o}),n.next=22;break;case 19:n.prev=19,n.t0=n.catch(0),k.Notify.failure("操作選取預覽圖片過程中發生錯誤，請重新查驗圖檔或操作流程！");case 22:case"end":return n.stop()}}),n,this,[[0,19]])})),_=function(){var n=this,e=arguments;return new Promise((function(t,o){var a=S.apply(n,e);function r(n){x(a,t,o,r,i,"next",n)}function i(n){x(a,t,o,r,i,"throw",n)}r(void 0)}))},function(n){return _.apply(this,arguments)})},data:function(){return{btnStr:this.incomBtnStr||"按鈕文字",imgType:this.incomImgType,componentClass:this.incomClass}},props:{"incom-img-type":{type:String},incomBtnStr:{type:String},incomClass:Array},template:'\n    <div\n      class="btn btn-dark c-btnFile shadow-none"\n      :class="componentClass"\n    >\n      <span>{{ btnStr }}</span>\n      <input class="c-btnFile__input" type="file"\n        @change="previewFile"\n      >\n    </div>\n  '}),c.a.component("search-bar",{methods:{sortMode:function(){this.$emit("send-search-emit",{timeSortStr:this.timeSortStr,queryStr:this.queryStr})},sendSearch:function(){this.$emit("send-search-emit",{timeSortStr:this.timeSortStr,queryStr:this.queryStr})}},data:function(){return{timeSortStr:"",queryStr:""}},template:'\n    \x3c!-- components__postSearchBar--\x3e\n    <div class="row g-3 mb-4">\n      <div class="w-lg-30">\n        <select class="form-select form-select"\n          v-model="timeSortStr"\n          @change="sortMode"\n        >\n          <option value="" disabled>請選擇</option>\n          <option value="desc">最新貼文</option>\n          <option value="asc">最舊貼文</option>\n        </select>\n      </div>\n      <div class="col">\n        <div class="input-group">\n          <input class="form-control"\n            placeholder="搜尋貼文"\n            v-model="queryStr"\n          >\n          <button class="btn btn-primary px-3 py-2"\n            type="button"\n            @click="sendSearch"\n          >\n            <span class="h5 lh-sm mb-0">\n              <i class="fas fa-search" aria-hidden="true"></i>\n            </span>\n          </button>\n        </div>\n      </div>\n    </div>\n    \x3c!-- /components__postSearchBar--\x3e\n  '}),c.a.component("card-status",{props:["interTag"],template:'\n  <div class="card bg-white u-solidShadow-b">\n    <div class="card-header bg-white p-4">\n      <span class="d-inline-block p-1 rounded-circle border border-pasteltTrbidity bg-danger"></span>\n      <span class="d-inline-block p-1 rounded-circle border border-pasteltTrbidity bg-warning ms-2"></span>\n      <span class="d-inline-block p-1 rounded-circle border border-pasteltTrbidity bg-success ms-2"></span></div>\n    <div class="card-body py-8">\n      <p class="text-center text-pastel mb-0">\n        <span v-html="interTag"></span>\n      </p>\n    </div>\n  </div>\n  '});var S,_,O=t(59);function T(n){return function(n){if(Array.isArray(n))return C(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"==typeof n)return C(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return C(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=n[t];return o}Object(v.d)(y.Report),Object(v.c)(k.Notify);c.a.component("card-post",{props:["postData","incomApiInfo","login-user-data"],data:function(){return{loginUser:{userData:this.loginUserData,comment:{isLoad:!1,msg:""}},post:this.postData,comments:JSON.parse(JSON.stringify(this.postData.comments.reverse())),apiInfo:this.incomApiInfo,likeIsLoad:!1}},methods:{toggleLike:function(n){var e=this,t="".concat(this.apiInfo.apiUrl,"/post/").concat(n,"/likes");this.likeIsLoad=!0,axios.patch(t).then((function(n){var t=n.data.data.likes;e.post.likes=t,e.likeIsLoad=!1,k.Notify.success("按讚或取消按讚已操作成功！")})).catch((function(n){y.Report.failure("錯誤",'<p class="mb-0 text-center">'.concat(n.response.data.message,"</p>"),"確定")}))},sendLoginUserComment:function(){var n=this,e="".concat(this.apiInfo.apiUrl,"/post/").concat(this.post._id,"/comment");if(!this.loginUser.comment.msg){var t={title:"發生錯誤",message:"內容需填入"};y.Report.failure(t.title,'<p class="mb-0 text-center">'.concat(t.message,"</p>"),"確定"),Object(O.a)({msgStr:t.message})}this.loginUser.comment.isLoad=!0;var o={comment:this.loginUser.comment.msg};axios.post(e,o,{Authorization:"Bearer ".concat(this.apiInfo.cookieToken)}).then((function(e){if(e.data.data.commentUser._id==n.loginUser.userData._id){var t=e.data.data;n.comments=[t].concat(T(n.comments)),n.loginUser.comment.msg="",k.Notify.success("已留言成功！")}else y.Report.failure("發生錯誤",'<p class="mb-0 text-center">更新對象無法查明，請重讀頁面！</p>',"確定");n.loginUser.comment.isLoad=!1})).catch((function(e){y.Report.failure("發生錯誤",'<p class="mb-0 text-center">'.concat(e.response.data.message,"</p>"),"確定"),n.loginUser.comment.isLoad=!1}))}},template:'\n  <div class="card bg-white u-solidShadow-b">\n    <div class="card-header pb-0 border-bottom-0 bg-white">\n      <div class="row g-4">\n        <div class="col-auto">\n          <a class="d-block"\n            :href="(\'personalPosts.html?user_id=\' + post.userData[\'_id\'])"\n          >\n            <user-avatar\n              :incomClass="[\'c-pseudoOneToOne--m\']"\n              :imgUrl="post.userData.avatarUrl"\n            ></user-avatar>\n          </a>\n        </div>\n        <div class="col d-flex align-items-center">\n          <p class="mb-0">\n            <a class="fw-bold"\n              :href="(\'personalPosts.html?user_id=\' + post.userData[\'_id\'])"\n            >\n              {{ post.userData.userName }}\n            </a>\n            <small\n              class="d-block text-pastel lh-lg u-fontFamily--BalooDa2 fw-light"\n            >\n              {{ post.createAt | databaseTimeConvert }}\n            </small>\n          </p>\n        </div>\n      </div>\n    </div>\n    <div class="card-body pt-4 pb-2">\n      <p class="text-preLine">{{ post.content }}</p>\n      <div class="c-minHightPhoto" v-if="post.image">\n        <img class="c-minHightPhoto__img" :src="post.image" />\n      </div>\n      <div\n        class="c-like position-relative"\n        @click="toggleLike(post.id)"\n      >\n        <i\n          aria-hidden="true"\n          class="c-like__icon far fa-thumbs-up stretched-link"\n          :class="{ \'text-primary\': post.likes.length > 0 , \'text-pastel\': (!likeIsLoad && post.likes.length == 0) }"\n        ></i>\n        <span\n          class="c-like__content u-fontFamily--BalooDa2"\n          v-if="!likeIsLoad && post.likes.length == 0"\n          :class="{ \'text-pastel\': post.likes.length == 0 }"\n        >\n          成為第一個按讚的朋友\n        </span>\n        <span\n          class="c-like__content u-fontFamily--BalooDa2"\n          v-if="!likeIsLoad && post.likes.length > 0"\n        >\n          {{ post.likes.length }}\n        </span>\n        <span\n          class="c-like__content u-fontFamily--BalooDa2"\n          v-if="likeIsLoad"\n        >\n          讀取中 ...\n        </span>\n      </div>\n      <div class="w-100 d-flex align-items-center mb-4">\n        <user-avatar\n          :incomClass="[\'c-pseudoOneToOne--s\', \'me-2\']"\n          :imgUrl="loginUser.userData.avatarUrl"\n        ></user-avatar>\n        <div class="input-group input-group-sm">\n          <input\n            class="form-control"\n            v-model="loginUser.comment.msg"\n            placeholder="留言..."\n          />\n          <button class="btn py-2 px-4 px-md-12"\n            :class="{\'btn-warning\': loginUser.comment.isLoad, \'btn-primary\': !loginUser.comment.isLoad}"\n            @click.pervent="sendLoginUserComment"\n          >\n            <span class="position-relative">\n              <span>留言</span>\n              <span\n                class="position-md-absolute start-md-100 top-md-50 translate-middle-md-y ms-md-1"\n                v-if="loginUser.comment.isLoad"\n              >\n                <i\n                  class="fas fa-spinner c-spinner--radiation"\n                ></i>\n              </span>\n            </span>\n          </button>\n        </div>\n      </div>\n      <ul class="list-unstyled">\n        <li class="card bg-light bg-opacity-30 border-0 mb-4"\n          v-for="(comment, index) in comments" :key="comment._id"\n        >\n          <div class="card-body p-4">\n            <div class="w-100 d-flex align-items-center mb-1">\n              <a :href="\'personalPosts.html?user_id=\' + comment.commentUser._id">\n                <user-avatar\n                  :incomClass="[\'c-pseudoOneToOne--s\', \'me-3\']"\n                  :imgUrl="comment.commentUser.avatarUrl"\n                ></user-avatar>\n              </a>\n              <p class="mb-0">\n                <a class="fw-bold" :href="\'personalPosts.html?user_id=\' + comment.commentUser._id">\n                  {{ comment.commentUser.userName }}\n                </a>\n                <small\n                  class="d-block text-pastel u-fontFamily--BalooDa2 lh-19 fw-light"\n                >\n                  {{ comment.createAt | databaseTimeConvert }}\n                </small>\n              </p>\n            </div>\n            <p class="ps-md-13 mb-0">\n              {{ comment.comment }}\n            </p>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n  '}),c.a.component("card-follow",{props:["follow-item"],data:function(){return{follower:this.followItem}},template:'\n  <div class="card bg-white u-solidShadow-b">\n    <div class="card-body p-4">\n      <div class="row gx-4">\n        <div class="col-auto d-md-flex align-items-md-center">\n          <a :href="\'personalPosts.html?user_id=\' + follower.userData._id">\n            <user-avatar\n              :incom-class="[\'c-pseudoOneToOne--s\']"\n              :img-url=\'follower.userData.avatarUrl\'\n            ></user-avatar>\n          </a>\n        </div>\n        <div class="col">\n          <p class="fw-bold mb-0">\n            <a :href="\'personalPosts.html?user_id=\' + follower.userData._id">\n              <span class="d-inline-block">{{ follower.userData.userName }}</span>\n            </a>\n          </p>\n          <ul\n            class="list-unstyled d-md-flex justify-content-between h6 mb-0"\n          >\n            <li class="d-inline-block text-pastel lh-17 mb-0">\n              <span class="d-inline-block">追蹤時間：</span><span class="d-inline-block u-fontFamily--Lato">\n                {{ follower.createdAt | databaseTimeConvert }}\n              </span>\n            </li>\n            <li class="d-inline-block lh-20 mb-0">\n              <span>您已追蹤 </span>\n              <span>{{ follower.createdAt | getDistanceSpecifiedDay }}</span>\n              <span> 天！</span>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n  '});Object(v.c)(k.Notify);c.a.component("card-like",{props:["like-item","user-data","incom-api-info"],data:function(){return{apiInfo:this.incomApiInfo,likePost:this.likeItem,logInUser:this.userData,theLikePost:{follower:{},isLogInUser:Boolean},isLikeCancelLoad:!1}},methods:{emitUpdataLikeList:function(){this.$emit("emit-updata-like-list")},cancelLike:function(n){var e=this,t="".concat(this.incomApiInfo.apiUrl,"/post/").concat(n,"/likes");axios.defaults.headers.common.Authorization="Bearer ".concat(this.incomApiInfo.cookieToken),this.isLikeCancelLoad=!0,axios.patch(t).then((function(n){k.Notify.success("取消按讚成功！"),e.isLikeCancelLoad=!1,e.emitUpdataLikeList()})).catch((function(n){Report.failure("發生錯誤",'<p class="mb-0 text-center">'.concat(n.message,"</p>"),"確定")}))}},created:function(){var n=this;this.theLikePost.follower=this.likePost.userData.followers.find((function(e){return e.userData==n.userData._id})),this.theLikePost.isLogInUser=this.likePost.userData._id===this.logInUser._id},template:'\n  <div class="card bg-white u-solidShadow-b">\n    <div class="card-body p-4">\n      <div class="row gx-4">\n        <div class="col-auto d-flex align-items-center">\n          <a :href="\'personalPosts.html?user_id=\' + likePost.userData._id">\n            <user-avatar\n              :incomClass="[\'c-pseudoOneToOne--s\']"\n              :imgUrl="likePost.userData.avatarUrl"\n            ></user-avatar>\n          </a>\n        </div>\n        <div class="col d-flex align-items-center">\n          <p class="w-100 fw-bold mb-0">\n            <a :href="\'personalPosts.html?user_id=\' + likePost.userData._id">\n              <span class="d-inline-block">{{ likePost.userData.userName }}</span>\n            </a>\n            <small class="d-block h6 text-pastel lh-17 mb-0"\n              v-if=\'theLikePost.follower\'\n            >\n              <span class="d-inline-block">追蹤時間：</span>\n              <span class="d-inline-block u-fontFamily--Lato">\n                {{ theLikePost.follower.createdAt | databaseTimeConvert }}\n              </span>\n            </small>\n            <small class="d-block h6 text-pastel lh-17 mb-0"\n              v-else-if=\'theLikePost.isLogInUser\'\n            >\n              <span class="d-inline-block">登入者本人無法追蹤</span>\n            </small>\n            <small class="d-block h6 text-pastel lh-17 mb-0"\n              v-else\n            >\n              <span class="d-inline-block">對象未被追蹤</span>\n            </small>\n          </p>\n        </div>\n        <div class="col-auto d-flex align-items-center">\n          <div class="me-2 me-md-5">\n            <a\n              class="d-inline-block text-center me-6 me-md-9"\n              href="#"\n              @click.prevent="cancelLike(likePost._id)"\n            >\n              <i\n                class="far fa-thumbs-up text-primary h5 mb-1"\n              ></i>\n              <span class="d-block h6 lh-20 mb-0" v-if="isLikeCancelLoad">讀取中 ...</span>\n              <span class="d-block h6 lh-20 mb-0" v-else>取消</span>\n            </a>\n            <a class="d-inline-block text-center"\n              :href="\'personalPosts.html?user_id=\' + likePost.userData._id + \'&post_id=\' + likePost._id"\n            >\n              <i\n                class="far fa-arrow-alt-circle-right text-primary h5 mb-1"\n              ></i>\n              <span class="d-block h6 lh-20 mb-0">查看</span>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  '}),c.a.filter("databaseTimeConvert",(function(n){return n?new Date(n).toLocaleString("zh-TW",{hour12:!1,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}):""})),c.a.filter("getDistanceSpecifiedDay",(function(n){if(!n)return"";var e=new Date,t=new Date(n).getTime()-e.getTime();return-(Math.floor(t/1e3/60/60/24)+1)})),c.a.filter("currencyChange",(function(n){var e=n.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")})),t(374);window.axios=a.a,function(){window.bootstrap=l.a;[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')).map((function(n){return new l.a.Popover(n)})),[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(n){return new l.a.Tooltip(n)}))}(),window.jQuery=window.$=i.a,i.a&&t(360),window.Vue=c.a,c.a.use(p.a,a.a),Object.keys(m).forEach((function(n){Object(d.d)(n,m[n])})),Object(d.e)("zh_TW",f),c.a.component("ValidationProvider",d.b),c.a.component("ValidationObserver",d.a),Object(d.c)({classes:{valid:"is-valid",invalid:"is-invalid"}})},374:function(n,e){},4:function(n,e,t){"use strict";t.d(e,"b",(function(){return a})),t.d(e,"a",(function(){return r})),t.d(e,"d",(function(){return i})),t.d(e,"c",(function(){return s}));var o={primary:{hex:"#03438D",overlay:"rgba(3, 67, 141, 0.9)"},success:{hex:"#83C51D",overlay:"rgba(131,197,29,0.2)"},failure:{hex:"#F57375",overlay:"rgba(245,115,117,0.2)"},warning:{hex:"#EEC32A",overlay:"rgba(238, 195, 42,0.2)"}},a=function(n){return n.init({svgSize:"150px",backgroundColor:o.primary.overlay,messageFontSize:"14px",customSvgUrl:"assets/static-images/MetaWall_logo.png"})},r=function(n){return n.init({titleColor:o.primary.hex,okButtonBackground:o.primary.hex,borderRadius:"8px",plainText:!1})},i=function(n){return n.init({borderRadius:"8px",svgSize:"40px",plainText:!1,success:{buttonBackground:o.success.hex,buttonColor:"#000",backOverlayColor:o.success.overlayColor},failure:{buttonBackground:o.failure.hex,buttonColor:"#fff",backOverlayColor:o.failure.overlayColor},warning:{buttonBackground:o.warning.hex,buttonColor:"#fff",backOverlayColor:o.warning.overlayColor}})},s=function(n){return n.init({borderRadius:"8px",timeout:4e3,messageMaxLength:110,backOverlay:!1,backOverlayColor:o.primary.overlay,plainText:!0,clickToClose:!1,pauseOnHover:!0,zindex:4001,fontSize:"15px",success:{notiflixIconColor:"rgba(0, 0, 0, .7)",background:o.success.hex,textColor:"#000",backOverlayColor:o.success.overlayColor},failure:{notiflixIconColor:"rgba(255, 255, 255, .7)",background:o.failure.hex,textColor:"#fff",backOverlayColor:o.failure.overlayColor},warning:{notiflixIconColor:"rgba(0, 0, 0, .7)",background:o.warning.hex,textColor:"#000",backOverlayColor:o.warning.overlayColor}})}},59:function(n,e,t){"use strict";t.d(e,"a",(function(){return o}));var o=function(n){var e=n.msgStr,t=void 0===e?"":e,o=n.isThrow,a=void 0===o||o,r=new Error("發生錯誤：");if(r.message+="".concat(t),a)throw r}}});